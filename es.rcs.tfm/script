java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/train.BioC.xml     /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_train.conll BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/test.BioC.xml      /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_test.conll  BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512-B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/train.PubTator.txt /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_train.conll  PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/test.PubTator.txt  /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_test.conll   PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830


java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -t /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/train.PubTator.txt /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/test.PubTator.txt  /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/model/ner/tfm_ner_pubtator_1.0.0_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830 pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/model/tensorflow
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -t /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/train.PubTator.txt /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/test.PubTator.txt  /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/model/ner/tfm_ner_pubtator_1.0.0_biobert_v1.1_pubmed_M-512_B-32                        pos_anc_en_2.0.2_2.4_1556659930154 biobert_v1.1_pubmed_M-512_B-32     /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/model/tensorflow

java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -t /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/sparknlp/eng.train                   /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/sparknlp/eng.testa                   /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/model/ner/tfm_ner_eng                                                                  pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/model/tensorflow


java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/CDR.Corpus.v010516/CDR_TrainingSet.BioC.xml        /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_cdr_devel.conll  BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/CDR.Corpus.v010516/CDR_DevelopmentSet.BioC.xml     /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_cdr_train.conll  BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/CDR.Corpus.v010516/CDR_TestSet.BioC.xml            /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_cdr_test.conll   BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/DNorm.TestSet/TestSet.DNorm.BioC.xml               /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_dnorm_test.conll BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/tmChem.TestSet/TestSet.tmChem.BioC.xml             /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_bioc_chem_test.conll  BIOC     pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830

java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/train.PubTator.txt                                                /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_train.conll       PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/tmVar/tmVarCorpus/test.PubTator.txt                                                 /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_test.conll        PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830

java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/CDR.Corpus.v010516/CDR_TrainingSet.PubTator.txt    /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_cdr_devel.conll   PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/CDR.Corpus.v010516/CDR_DevelopmentSet.PubTator.txt /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_cdr_train.conll   PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/CDR.Corpus.v010516/CDR_TestSet.PubTator.txt        /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_cdr_test.conll    PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/DNorm.TestSet/TestSet.DNorm.PubTator.txt           /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_dnorm_test.conll  PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830
java -jar es.rcs.tfm.app/target/RCS-App-0.0.4-SNAPSHOT-jar-with-dependencies.jar -g /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/BioCreativeV_CDR_Corpus/CDR_Data/tmChem.TestSet/TestSet.tmChem.PubTator.txt         /home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/training/ner/ner_txt_chem_test.conll   PUBTATOR pos_anc_en_2.0.2_2.4_1556659930154 uncased_L-12_H-768_A-12_M-512_B-32 ner_dl_bert_uncased_L-12_H-768_A-12_M-512_B-32_2.2.0_2.4_20190830



// -----------------------------------------------------------------------------------------
val trainDataCoNLL = TfmHelper.prepareData(nerReader, "/home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/JNLPBA/Genia4ERtask2.conll")
val testDataCoNLL = TfmHelper.prepareData(nerReader, "/home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/JNLPBA/Genia4EReval2.conll")
//val trainData = TfmHelper.prepareData(nerReader, "/home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/datasets/JNLPBA/sampletest2.conll")

val pos = TfmHelper.preparePos("file:///home/rcuesta/TFM/es.rcs.tfm/es.rcs.tfm.corpus/models/pos/pos_anc_en_2.0.2_2.4_1556659930154")
val trainData = pos.transform(trainDataCoNLL.withColumnRenamed("pos", "old_pos").withColumnRenamed("label", "old_label").withColumn("label", lower(col("label"))).select("text", "document", "sentence", "token", "label", "old_pos"))
val testData = pos.transform(testDataCoNLL.withColumnRenamed("pos", "old_pos").select("text", "document", "sentence", "token", "label", "old_pos"))

TfmHelper.saveDsToCsvInDatabricks(ds = trainData.select("text", "pos", "pos", "label"), sep = " ", targetFile = TRAINING_NER_DIR + "JNLPBA_train.conll")
TfmHelper.saveDsToCsvInDatabricks(ds = testData.select("text", "pos", "pos", "label"), sep = " ",  targetFile = TRAINING_NER_DIR + "JNLPBA_test.conll")
